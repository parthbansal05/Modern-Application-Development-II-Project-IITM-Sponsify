<!DOCTYPE html>
<html>
	<head>
		<link rel="icon" type="image/x-icon" href="{{url_for('static', filename='assets/favicon.ico')}}"/>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>
		<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<script src="{{url_for('static', filename='scripts/auth.page.js')}}"></script>
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles/base.page.css')}}"/>
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles/auth.page.css')}}"/>
		<title>{{ title }}</title>
	</head>

	<body>
		<ul class="background">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		<div class="container mt-4">
			<div class="container">
				<div class="row mt-4">
					<div class="col-lg-5 col-md-6 m-auto card p-4">
						<form action="{{ request.path }}" method="POST" class="card-body">
							{{ form.csrf_token }}
							<!-- info lables -->
							{% with messages = get_flashed_messages(with_categories=true) %}
								<!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
								{% if messages %} 
									{% for category, message in messages %}
									<div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
										{{ message }}
										<button	type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
									</div>
									{% endfor %} 
								{% endif %} 
							{% endwith %}

							<!-- heading -->
							<div class="text-center">
								<h2 class="text-primary">{{ text }}</h2>
							</div>

							<!-- text fields -->
							<!-- Username -->
							<div class="form-group mb-3">
								{{ form.username(class_="form-control", placeholder="Username")}}
							</div>
							{% for error in form.username.errors %}
								<div class="alert alert-warning alert-dismissible fade show" role="alert" >
									{{ error }}
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								</div>
							{% endfor %}

							<!-- Email -->
							<div class="form-group mb-3">
								{{ form.email(class_="form-control", placeholder="Email")}}
							</div>
							{% for error in form.email.errors %}
								<div class="alert alert-warning alert-dismissible fade show" role="alert" >
									{{ error }}
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								</div>
							{% endfor %}

							<!-- phno -->
							<div class="form-group mb-3">
								{{ form.ph_no(class_="form-control",placeholder="Phone Number")}}
							</div>
							{% for error in form.ph_no.errors %}
								<div class="alert alert-warning alert-dismissible fade show" role="alert" >
									{{ error }}
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								</div>
							{% endfor %}

							<!-- Password -->
							<div class="form-group mb-3">
								{{ form.pwd(class_="form-control",placeholder="Password")}}
							</div>
							{% for error in form.pwd.errors %}
								<div class="alert alert-warning alert-dismissible fade show" role="alert" >
									{{ error }}
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								</div>
							{% endfor %}

							<!-- Confirm Password -->
							<div class="form-group mb-3">
								{{ form.cpwd(class_="form-control", placeholder="Confirm Password")}}
							</div>
							{% for error in form.cpwd.errors %}
								<div class="alert alert-warning alert-dismissible fade show" role="alert" >
									{{ error }}
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								</div>
							{% endfor %}

							<div class="text-center">
								<div class="d-grid gap-2">
									<button type="submit" class="btn btn-block btn-primary mb-3">
										{{ btn_action }}
									</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
